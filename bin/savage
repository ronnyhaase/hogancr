#!/usr/bin/env node
/*
 *  Copyright (C) Ronny Haase, 2013
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

// Dependencies
var
	// Node modules
	fs = require('fs')
	, util = require('util')

	// Own modules
	, savage = require('../lib/savage')

// -----------
// Savage CLI
// ----------
var
	options = [
		// Info
		{ s: 'h?', l: '--help', desc: 'Print help and exit' }
		, { s: 'v', l:'--version', desc: 'Print version and exit' }
		, { s: 'L', l: '--engine-list', desc: 'Print all supported engines' }

		// Settings
		, { s: 'c', l: '--compile', desc: 'Only compile the input file(s)' }
		, { s: 'r', l: '--render', desc: 'Only render the input file(s)' }

		/*, 'version': true
		, 'listEngines': true
		, 'compile': true
		, 'render': true
		, 'engine': String*/
	]

function printHelp() {
	util.puts(
		'savage - Savage CLI + (Pre-)Compile & Render with your favorite template engine.\n' +
		'v' + require('../package.json').version + '\n'+
		'\n' +
		'Usage: savage [options] -i<Input file>\n' +
		'\n' +
		'Options:\n' +
		'   none\n' +
		'\n' +
		'Further help can be found at http://github.com/ronnyhaase/savage'
	)
}

function printVersion() {
	util.puts('v' + require('../package.json').version)
}

function printEngineList() {
	//console.log( savage.engines.list() )
	util.puts('WTF?')
}

if ( options.help )
	printHelp()
if ( options.version )
	printVersion()

console.log( options )
	//printEngineList()
